<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WeUI æ–‡å­—æ ·å¼ Token è¡¨</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'PingFang SC', 'PingFang HK', sans-serif;
      background: #ffffff;
      min-height: 100vh;
      padding: 40px 20px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 50px;
      position: relative;
    }

    .header h1 {
      font-size: 48px;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 12px;
      letter-spacing: -1px;
    }

    .header p {
      font-size: 18px;
      color: #666;
      font-weight: 400;
    }

    .header-nav {
      position: absolute;
      top: 0;
      right: 0;
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .header-nav-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 16px;
      background: #07C160;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s;
      box-shadow: 0 2px 4px rgba(7, 193, 96, 0.2);
    }

    .header-nav-link:hover {
      background: #06AD56;
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(7, 193, 96, 0.3);
    }

    .header-nav-link:active {
      transform: translateY(0);
    }

    .page-nav {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-bottom: 40px;
      padding: 0 20px;
    }

    .page-nav-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 10px 24px;
      border: none;
      border-bottom: 3px solid transparent;
      background: transparent;
      color: #666;
      text-decoration: none;
      font-size: 15px;
      font-weight: 500;
      transition: all 0.2s;
      box-shadow: none;
    }

    .page-nav-link:hover {
      color: #07C160;
      border-bottom-color: rgba(7, 193, 96, 0.3);
    }

    .page-nav-link.active {
      background: transparent;
      color: #07C160;
      border-bottom-color: #07C160;
      box-shadow: none;
    }

    .page-nav-link.active:hover {
      color: #07C160;
      border-bottom-color: #07C160;
    }

    .toolbar {
      padding: 16px 40px;
      background: transparent;
      border-bottom: 1px solid #e5e5e5;
      display: flex;
      align-items: center;
      gap: 24px;
      flex-wrap: nowrap;
      overflow-x: auto;
    }

    .toolbar-left {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-shrink: 0;
    }

    .toolbar-separator {
      width: 1px;
      height: 24px;
      background: #e5e5e5;
      flex-shrink: 0;
    }

    .tab-btn {
      padding: 8px 16px;
      border: 1px solid #07C160;
      border-radius: 6px;
      background: white;
      color: #07C160;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
    }

    .tab-btn:hover {
      background: #f0fdf4;
    }

    .tab-btn.active {
      background: #07C160;
      color: white;
    }

    .filter-btn {
      padding: 8px 16px;
      border: 1px solid #e5e5e5;
      background: white;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
      white-space: nowrap;
    }

    .filter-btn:hover {
      border-color: #07C160;
      color: #07C160;
    }

    .filter-btn.active {
      background: #07C160;
      color: white;
      border-color: #07C160;
    }

    .toolbar-right {
      display: flex;
      gap: 12px;
      align-items: center;
      margin-left: auto;
      flex-shrink: 0;
    }

    .search-box {
      padding: 8px 16px;
      border: 1px solid #e5e5e5;
      border-radius: 6px;
      font-size: 14px;
      width: 280px;
      flex-shrink: 0;
    }

    .search-box:focus {
      outline: none;
      border-color: #07C160;
      box-shadow: 0 0 0 3px rgba(7, 193, 96, 0.1);
    }

    .export-btn {
      padding: 8px 20px;
      background: #07C160;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s;
    }

    .export-btn:hover {
      background: #06AD56;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(7, 193, 96, 0.3);
    }

    .content {
      padding: 40px;
    }

    .token-table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      font-size: 14px;
    }

    .token-table th {
      background: #f7f7f7;
      font-weight: 600;
      color: #1a1a1a;
      padding: 16px;
      text-align: left;
      border-bottom: 2px solid #e5e5e5;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .token-table td {
      padding: 16px;
      text-align: left;
      border-bottom: 1px solid #f0f0f0;
      vertical-align: middle;
    }

    .token-table tr:hover {
      background: #fafafa;
    }

    .token-name {
      font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
      font-size: 13px;
      font-weight: 600;
      color: #07C160;
      background: #f0fdf4;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
    }

    .typography-preview {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 12px;
      background: #fafafa;
      border-radius: 6px;
      border: 1px solid #e5e5e5;
    }

    .typography-preview-text {
      flex: 1;
    }

    .typography-specs {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 12px;
      color: #666;
      font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
      min-width: 200px;
    }

    .spec-item {
      display: flex;
      justify-content: space-between;
      gap: 12px;
    }

    .spec-label {
      color: #999;
    }

    .spec-value {
      color: #333;
      font-weight: 500;
    }

    .usage-scenarios {
      color: #666;
      font-size: 13px;
      line-height: 1.5;
    }

    .component-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .component-tag {
      display: inline-block;
      padding: 4px 10px;
      background: #e8f5e9;
      color: #2e7d32;
      border-radius: 4px;
      font-size: 12px;
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #999;
    }

    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .footer {
      padding: 24px 40px;
      background: #fafafa;
      border-top: 1px solid #e5e5e5;
      text-align: center;
      color: #666;
      font-size: 14px;
    }

    .footer a {
      color: #07C160;
      text-decoration: underline;
    }

    @media (max-width: 1024px) {
      .toolbar {
        padding: 16px 20px;
        gap: 16px;
      }

      .search-box {
        width: 200px;
      }
    }

    @media (max-width: 768px) {
      .page-nav {
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 30px;
      }

      .page-nav-link {
        padding: 8px 16px;
        font-size: 14px;
      }

      .toolbar {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
      }

      .toolbar-left {
        width: 100%;
        flex-wrap: wrap;
      }

      .toolbar-separator {
        display: none;
      }

      .toolbar-right {
        width: 100%;
      }

      .search-box {
        width: 100%;
      }

      .token-table {
        font-size: 12px;
      }

      .token-table th,
      .token-table td {
        padding: 12px 8px;
      }

    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>WeUI æ–‡å­—æ ·å¼ Token è¡¨</h1>
      <p>åŸºäºå¾®ä¿¡è®¾è®¡è§„èŒƒçš„å­—ä½“ç³»ç»Ÿ | <a href="https://weui-multi-platform.pages.woa.com/guide/" target="_blank" style="color: #07C160; text-decoration: underline;">å‚è€ƒå®˜æ–¹æ–‡æ¡£</a></p>
    </div>

    <!-- é¡µé¢å¯¼èˆª -->
    <div class="page-nav">
      <a href="colorToken.html" class="page-nav-link">
        <span>ğŸ¨</span>
        <span>è‰²å½©ä½“ç³»</span>
      </a>
      <a href="designTokenTable.html" class="page-nav-link">
        <span>ğŸ“Š</span>
        <span>Token è¡¨</span>
      </a>
      <a href="typographyTokenTable.html" class="page-nav-link active">
        <span>ğŸ“</span>
        <span>æ–‡å­—æ ·å¼</span>
      </a>
    </div>

    <div class="toolbar">
      <div class="toolbar-left">
        <button class="tab-btn active" data-tab="typography">å­—ä½“æ ·å¼</button>
        <button class="tab-btn" data-tab="text-color">æ–‡å­—é¢œè‰²</button>
        <button class="tab-btn" data-tab="combinations">ç»„åˆæ¨è</button>
      </div>
      <div class="toolbar-separator"></div>
      <div class="toolbar-left">
        <button class="filter-btn active" data-filter="all">å…¨éƒ¨</button>
        <button class="filter-btn" data-filter="light">ç™½å¤©æ¨¡å¼</button>
        <button class="filter-btn" data-filter="dark">æš—é»‘æ¨¡å¼</button>
      </div>
      <div class="toolbar-right">
        <input type="text" class="search-box" placeholder="æœç´¢ Token åç§°ã€æ ·å¼åç§°æˆ–ç»„ä»¶..." id="searchInput">
        <button class="export-btn" onclick="exportToJSON()">å¯¼å‡º JSON</button>
      </div>
    </div>

    <div class="content">
      <div id="content">
        <!-- è¡¨æ ¼å°†é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>

    <div class="footer">
      <p>WeUI æ–‡å­—æ ·å¼ä½“ç³» | åŸºäºå¾®ä¿¡è®¾è®¡è§„èŒƒ | <a href="https://weui-multi-platform.pages.woa.com/guide/" target="_blank">å‚è€ƒå®˜æ–¹æ–‡æ¡£</a> | æœ€åæ›´æ–°: 2025</p>
    </div>
  </div>

  <script>
    // æ–‡å­—æ ·å¼ Token æ•°æ®
    const typographyTokens = [
      // å­—ä½“å¤§å°
      {
        tokenName: 'FONT-SIZE-01',
        category: 'å­—ä½“å¤§å°',
        categoryEn: 'Font Size',
        name: 'è¶…å¤§æ ‡é¢˜',
        nameEn: 'Extra Large Title',
        fontSize: '32px',
        fontWeight: '700',
        lineHeight: '1.2',
        usage: 'é¡µé¢ä¸»æ ‡é¢˜ã€é‡è¦æç¤ºæ ‡é¢˜',
        components: ['æ ‡é¢˜', 'é¡µé¢']
      },
      {
        tokenName: 'FONT-SIZE-02',
        category: 'å­—ä½“å¤§å°',
        categoryEn: 'Font Size',
        name: 'å¤§æ ‡é¢˜',
        nameEn: 'Large Title',
        fontSize: '24px',
        fontWeight: '600',
        lineHeight: '1.3',
        usage: 'ç« èŠ‚æ ‡é¢˜ã€å¯¹è¯æ¡†æ ‡é¢˜',
        components: ['æ ‡é¢˜', 'å¯¹è¯æ¡†']
      },
      {
        tokenName: 'FONT-SIZE-03',
        category: 'å­—ä½“å¤§å°',
        categoryEn: 'Font Size',
        name: 'æ ‡é¢˜',
        nameEn: 'Title',
        fontSize: '20px',
        fontWeight: '600',
        lineHeight: '1.4',
        usage: 'åˆ—è¡¨é¡¹æ ‡é¢˜ã€å¡ç‰‡æ ‡é¢˜',
        components: ['æ ‡é¢˜', 'åˆ—è¡¨', 'å¡ç‰‡']
      },
      {
        tokenName: 'FONT-SIZE-04',
        category: 'å­—ä½“å¤§å°',
        categoryEn: 'Font Size',
        name: 'æ­£æ–‡',
        nameEn: 'Body',
        fontSize: '16px',
        fontWeight: '400',
        lineHeight: '1.5',
        usage: 'æ­£æ–‡å†…å®¹ã€æè¿°æ–‡å­—',
        components: ['æ­£æ–‡', 'æè¿°']
      },
      {
        tokenName: 'FONT-SIZE-05',
        category: 'å­—ä½“å¤§å°',
        categoryEn: 'Font Size',
        name: 'å°æ­£æ–‡',
        nameEn: 'Small Body',
        fontSize: '14px',
        fontWeight: '400',
        lineHeight: '1.5',
        usage: 'è¾…åŠ©è¯´æ˜ã€æ¬¡è¦å†…å®¹',
        components: ['è¾…åŠ©', 'è¯´æ˜']
      },
      {
        tokenName: 'FONT-SIZE-06',
        category: 'å­—ä½“å¤§å°',
        categoryEn: 'Font Size',
        name: 'è¾…åŠ©æ–‡å­—',
        nameEn: 'Caption',
        fontSize: '12px',
        fontWeight: '400',
        lineHeight: '1.4',
        usage: 'æç¤ºæ–‡å­—ã€æ ‡ç­¾ã€æ—¶é—´',
        components: ['æç¤º', 'æ ‡ç­¾']
      },
      // å­—é‡
      {
        tokenName: 'FONT-WEIGHT-01',
        category: 'å­—é‡',
        categoryEn: 'Font Weight',
        name: 'ç»†ä½“',
        nameEn: 'Thin',
        fontSize: '16px',
        fontWeight: '300',
        lineHeight: '1.5',
        usage: 'ç‰¹æ®Šåœºæ™¯çš„ç»†ä½“æ–‡å­—',
        components: ['ç‰¹æ®Š']
      },
      {
        tokenName: 'FONT-WEIGHT-02',
        category: 'å­—é‡',
        categoryEn: 'Font Weight',
        name: 'å¸¸è§„',
        nameEn: 'Regular',
        fontSize: '16px',
        fontWeight: '400',
        lineHeight: '1.5',
        usage: 'æ­£æ–‡ã€æè¿°æ–‡å­—',
        components: ['æ­£æ–‡', 'æè¿°']
      },
      {
        tokenName: 'FONT-WEIGHT-03',
        category: 'å­—é‡',
        categoryEn: 'Font Weight',
        name: 'ä¸­ç­‰',
        nameEn: 'Medium',
        fontSize: '16px',
        fontWeight: '500',
        lineHeight: '1.5',
        usage: 'å¼ºè°ƒæ–‡å­—ã€æŒ‰é’®æ–‡å­—',
        components: ['å¼ºè°ƒ', 'æŒ‰é’®']
      },
      {
        tokenName: 'FONT-WEIGHT-04',
        category: 'å­—é‡',
        categoryEn: 'Font Weight',
        name: 'åŠç²—',
        nameEn: 'Semi Bold',
        fontSize: '16px',
        fontWeight: '600',
        lineHeight: '1.5',
        usage: 'æ ‡é¢˜ã€é‡è¦æ–‡å­—',
        components: ['æ ‡é¢˜', 'é‡è¦']
      },
      {
        tokenName: 'FONT-WEIGHT-05',
        category: 'å­—é‡',
        categoryEn: 'Font Weight',
        name: 'ç²—ä½“',
        nameEn: 'Bold',
        fontSize: '16px',
        fontWeight: '700',
        lineHeight: '1.5',
        usage: 'å¼ºè°ƒæ ‡é¢˜ã€é‡è¦æç¤º',
        components: ['æ ‡é¢˜', 'å¼ºè°ƒ']
      },
      // è¡Œé«˜
      {
        tokenName: 'LINE-HEIGHT-01',
        category: 'è¡Œé«˜',
        categoryEn: 'Line Height',
        name: 'ç´§å‡‘',
        nameEn: 'Tight',
        fontSize: '16px',
        fontWeight: '400',
        lineHeight: '1.2',
        usage: 'æ ‡é¢˜ã€å•è¡Œæ–‡å­—',
        components: ['æ ‡é¢˜']
      },
      {
        tokenName: 'LINE-HEIGHT-02',
        category: 'è¡Œé«˜',
        categoryEn: 'Line Height',
        name: 'æ ‡å‡†',
        nameEn: 'Normal',
        fontSize: '16px',
        fontWeight: '400',
        lineHeight: '1.5',
        usage: 'æ­£æ–‡ã€å¤šè¡Œæ–‡å­—',
        components: ['æ­£æ–‡']
      },
      {
        tokenName: 'LINE-HEIGHT-03',
        category: 'è¡Œé«˜',
        categoryEn: 'Line Height',
        name: 'å®½æ¾',
        nameEn: 'Loose',
        fontSize: '16px',
        fontWeight: '400',
        lineHeight: '1.6',
        usage: 'é•¿æ–‡æœ¬ã€æ–‡ç« å†…å®¹',
        components: ['æ–‡ç« ', 'é•¿æ–‡æœ¬']
      },
      // æ–‡å­—é¢œè‰²ï¼ˆçº¯é¢œè‰² Tokenï¼‰
      {
        tokenName: 'TXT-01',
        category: 'æ–‡å­—é¢œè‰²',
        categoryEn: 'Text Color',
        name: 'ä¸»è¦æ–‡æœ¬',
        nameEn: 'Primary Text',
        color: 'rgba(0, 0, 0, 0.9)',
        colorDark: 'rgba(255, 255, 255, 0.9)',
        usage: 'é¡µé¢æ ‡é¢˜ã€é‡è¦å†…å®¹ã€å¯¼èˆªæ æ ‡é¢˜',
        components: ['æ ‡é¢˜', 'å¯¼èˆªæ ']
      },
      {
        tokenName: 'TXT-02',
        category: 'æ–‡å­—é¢œè‰²',
        categoryEn: 'Text Color',
        name: 'æ¬¡è¦æ–‡æœ¬',
        nameEn: 'Secondary Text',
        color: 'rgba(0, 0, 0, 0.6)',
        colorDark: 'rgba(255, 255, 255, 0.6)',
        usage: 'æè¿°æ–‡å­—ã€åˆ—è¡¨é¡¹å‰¯æ ‡é¢˜ã€æ ‡ç­¾é¡µæœªé€‰ä¸­',
        components: ['æè¿°', 'åˆ—è¡¨', 'æ ‡ç­¾é¡µ']
      },
      {
        tokenName: 'TXT-03',
        category: 'æ–‡å­—é¢œè‰²',
        categoryEn: 'Text Color',
        name: 'è¾…åŠ©æ–‡æœ¬',
        nameEn: 'Tertiary Text',
        color: 'rgba(0, 0, 0, 0.4)',
        colorDark: 'rgba(255, 255, 255, 0.4)',
        usage: 'æç¤ºæ–‡å­—ã€å ä½ç¬¦ã€è¾…åŠ©è¯´æ˜',
        components: ['æç¤º', 'å ä½ç¬¦']
      },
      {
        tokenName: 'TXT-04',
        category: 'æ–‡å­—é¢œè‰²',
        categoryEn: 'Text Color',
        name: 'ç¦ç”¨æ–‡æœ¬',
        nameEn: 'Disabled Text',
        color: 'rgba(0, 0, 0, 0.2)',
        colorDark: 'rgba(255, 255, 255, 0.2)',
        usage: 'ç¦ç”¨æŒ‰é’®æ–‡å­—ã€ä¸å¯ç”¨çŠ¶æ€æ–‡å­—',
        components: ['æŒ‰é’®', 'ç¦ç”¨çŠ¶æ€']
      }
    ];

    // å¸¸è§ç»„åˆæ¨è
    const recommendedCombinations = [
      {
        name: 'è¶…å¤§æ ‡é¢˜',
        nameEn: 'Extra Large Title',
        typographyToken: 'FONT-SIZE-01',
        colorToken: 'TXT-01',
        usage: 'é¡µé¢ä¸»æ ‡é¢˜ã€é‡è¦æç¤ºæ ‡é¢˜',
        components: ['æ ‡é¢˜', 'é¡µé¢'],
        fontSize: '32px',
        fontWeight: '700',
        lineHeight: '1.2',
        color: 'rgba(0, 0, 0, 0.9)',
        colorDark: 'rgba(255, 255, 255, 0.9)'
      },
      {
        name: 'å¤§æ ‡é¢˜',
        nameEn: 'Large Title',
        typographyToken: 'FONT-SIZE-02',
        colorToken: 'TXT-01',
        usage: 'ç« èŠ‚æ ‡é¢˜ã€å¯¹è¯æ¡†æ ‡é¢˜',
        components: ['æ ‡é¢˜', 'å¯¹è¯æ¡†'],
        fontSize: '24px',
        fontWeight: '600',
        lineHeight: '1.3',
        color: 'rgba(0, 0, 0, 0.9)',
        colorDark: 'rgba(255, 255, 255, 0.9)'
      },
      {
        name: 'æ ‡é¢˜',
        nameEn: 'Title',
        typographyToken: 'FONT-SIZE-03',
        colorToken: 'TXT-01',
        usage: 'åˆ—è¡¨é¡¹æ ‡é¢˜ã€å¡ç‰‡æ ‡é¢˜',
        components: ['æ ‡é¢˜', 'åˆ—è¡¨', 'å¡ç‰‡'],
        fontSize: '20px',
        fontWeight: '600',
        lineHeight: '1.4',
        color: 'rgba(0, 0, 0, 0.9)',
        colorDark: 'rgba(255, 255, 255, 0.9)'
      },
      {
        name: 'æ­£æ–‡',
        nameEn: 'Body',
        typographyToken: 'FONT-SIZE-04',
        colorToken: 'TXT-01',
        usage: 'æ­£æ–‡å†…å®¹ã€æè¿°æ–‡å­—',
        components: ['æ­£æ–‡', 'æè¿°'],
        fontSize: '16px',
        fontWeight: '400',
        lineHeight: '1.5',
        color: 'rgba(0, 0, 0, 0.9)',
        colorDark: 'rgba(255, 255, 255, 0.9)'
      },
      {
        name: 'å°æ­£æ–‡',
        nameEn: 'Small Body',
        typographyToken: 'FONT-SIZE-05',
        colorToken: 'TXT-02',
        usage: 'è¾…åŠ©è¯´æ˜ã€æ¬¡è¦å†…å®¹',
        components: ['è¾…åŠ©', 'è¯´æ˜'],
        fontSize: '14px',
        fontWeight: '400',
        lineHeight: '1.5',
        color: 'rgba(0, 0, 0, 0.6)',
        colorDark: 'rgba(255, 255, 255, 0.6)'
      },
      {
        name: 'è¾…åŠ©æ–‡å­—',
        nameEn: 'Caption',
        typographyToken: 'FONT-SIZE-06',
        colorToken: 'TXT-03',
        usage: 'æç¤ºæ–‡å­—ã€æ ‡ç­¾ã€æ—¶é—´',
        components: ['æç¤º', 'æ ‡ç­¾'],
        fontSize: '12px',
        fontWeight: '400',
        lineHeight: '1.4',
        color: 'rgba(0, 0, 0, 0.4)',
        colorDark: 'rgba(255, 255, 255, 0.4)'
      },
      {
        name: 'ç¦ç”¨æ–‡æœ¬',
        nameEn: 'Disabled Text',
        typographyToken: 'FONT-SIZE-04',
        colorToken: 'TXT-04',
        usage: 'ç¦ç”¨æŒ‰é’®æ–‡å­—ã€ä¸å¯ç”¨çŠ¶æ€æ–‡å­—',
        components: ['æŒ‰é’®', 'ç¦ç”¨çŠ¶æ€'],
        fontSize: '16px',
        fontWeight: '400',
        lineHeight: '1.5',
        color: 'rgba(0, 0, 0, 0.2)',
        colorDark: 'rgba(255, 255, 255, 0.2)'
      }
    ];

    let currentTab = 'typography';
    let currentFilter = 'all';
    let currentSearch = '';

    // åˆå§‹åŒ–
    function init() {
      try {
        updateFilterButtons();
        renderTokens();
        setupEventListeners();
      } catch (error) {
        console.error('Initialization error:', error);
        const content = document.getElementById('content');
        if (content) {
          content.innerHTML = `
            <div class="empty-state">
              <div class="empty-state-icon">âš ï¸</div>
              <p>åˆå§‹åŒ–é”™è¯¯: ${error.message}</p>
            </div>
          `;
        }
      }
    }

    // è®¾ç½®äº‹ä»¶ç›‘å¬
    function setupEventListeners() {
      // Tab æŒ‰é’®
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          currentTab = btn.getAttribute('data-tab');
          // æ›´æ–°ç­›é€‰æŒ‰é’®æ˜¾ç¤ºçŠ¶æ€
          updateFilterButtons();
          renderTokens();
        });
      });

      // ç­›é€‰æŒ‰é’®
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          currentFilter = btn.getAttribute('data-filter');
          renderTokens();
        });
      });

      // æœç´¢æ¡†
      const searchInput = document.getElementById('searchInput');
      if (searchInput) {
        searchInput.addEventListener('input', (e) => {
          currentSearch = e.target.value.trim();
          renderTokens();
        });
      }
    }

    // æ›´æ–°ç­›é€‰æŒ‰é’®æ˜¾ç¤ºçŠ¶æ€
    function updateFilterButtons() {
      const filterButtons = document.querySelectorAll('.filter-btn');
      if (currentTab === 'typography' || currentTab === 'combinations') {
        // å­—ä½“æ ·å¼å’Œç»„åˆæ¨èä¸åŒºåˆ†ç™½å¤©æš—é»‘ï¼Œç¦ç”¨ç­›é€‰æŒ‰é’®
        filterButtons.forEach(btn => {
          btn.style.opacity = '0.5';
          btn.style.pointerEvents = 'none';
        });
      } else {
        // æ–‡å­—é¢œè‰²åŒºåˆ†ç™½å¤©æš—é»‘ï¼Œå¯ç”¨ç­›é€‰æŒ‰é’®
        filterButtons.forEach(btn => {
          btn.style.opacity = '1';
          btn.style.pointerEvents = 'auto';
        });
      }
    }

    // ç­›é€‰ Token
    function filterTokens() {
      return typographyTokens.filter(token => {
        // Tab è¿‡æ»¤
        if (currentTab === 'typography') {
          // å­—ä½“æ ·å¼ï¼šå­—ä½“å¤§å°ã€å­—é‡ã€è¡Œé«˜
          if (token.category === 'æ–‡å­—é¢œè‰²') {
            return false;
          }
        } else if (currentTab === 'text-color') {
          // æ–‡å­—é¢œè‰²
          if (token.category !== 'æ–‡å­—é¢œè‰²') {
            return false;
          }
          
          // æ–‡å­—é¢œè‰²éœ€è¦æ ¹æ®ç­›é€‰æ¨¡å¼è¿‡æ»¤
          if (currentFilter === 'light') {
            // åªæ˜¾ç¤ºæœ‰ color çš„ Token
            if (!token.color) {
              return false;
            }
          } else if (currentFilter === 'dark') {
            // åªæ˜¾ç¤ºæœ‰ colorDark çš„ Token
            if (!token.colorDark) {
              return false;
            }
          }
        } else if (currentTab === 'combinations') {
          // ç»„åˆæ¨è Tab ä¸æ˜¾ç¤ºåŸºç¡€ Token
          return false;
        }

        // æœç´¢è¿‡æ»¤
        if (currentSearch) {
          const searchLower = currentSearch.toLowerCase();
          const matchTokenName = token.tokenName && token.tokenName.toLowerCase().includes(searchLower);
          const matchName = token.name.toLowerCase().includes(searchLower) ||
                           token.nameEn.toLowerCase().includes(searchLower);
          const matchCategory = token.category.toLowerCase().includes(searchLower);
          const matchComponents = token.components.some(comp => comp.toLowerCase().includes(searchLower));
          
          if (!matchTokenName && !matchName && !matchCategory && !matchComponents) {
            return false;
          }
        }

        return true;
      });
    }

    // æ¸²æŸ“ Token è¡¨æ ¼
    function renderTokens() {
      const content = document.getElementById('content');
      if (!content) return;

      // å¦‚æœæ˜¯ç»„åˆæ¨è Tabï¼Œæ¸²æŸ“ç»„åˆæ¨è
      if (currentTab === 'combinations') {
        renderCombinations();
        return;
      }

      const filteredTokens = filterTokens();
      
      if (filteredTokens.length === 0) {
        content.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ”</div>
            <p>æœªæ‰¾åˆ°åŒ¹é…çš„æ–‡å­—æ ·å¼ Token</p>
          </div>
        `;
        return;
      }

      const table = document.createElement('table');
      table.className = 'token-table';

      // è¡¨å¤´
      const thead = document.createElement('thead');
      thead.innerHTML = `
        <tr>
          <th style="width: 120px;">Token åç§°</th>
          <th style="width: 150px;">åç§°</th>
          <th style="width: 400px;">æ ·å¼é¢„è§ˆ</th>
          <th>ä½¿ç”¨åœºæ™¯</th>
          <th style="width: 200px;">ä½¿ç”¨çš„ç»„ä»¶</th>
        </tr>
      `;

      // è¡¨ä½“
      const tbody = document.createElement('tbody');
      filteredTokens.forEach(token => {
        try {
          const row = createTableRow(token);
          tbody.appendChild(row);
        } catch (error) {
          console.error('Error creating table row for token:', token, error);
        }
      });

      table.appendChild(thead);
      table.appendChild(tbody);

      content.innerHTML = '';
      content.appendChild(table);
    }

    // æ¸²æŸ“ç»„åˆæ¨è
    function renderCombinations() {
      const content = document.getElementById('content');
      if (!content) return;

      let filteredCombinations = recommendedCombinations;

      // æœç´¢è¿‡æ»¤
      if (currentSearch) {
        const searchLower = currentSearch.toLowerCase();
        filteredCombinations = recommendedCombinations.filter(combo => {
          const matchName = combo.name.toLowerCase().includes(searchLower) ||
                           combo.nameEn.toLowerCase().includes(searchLower);
          const matchTypography = combo.typographyToken.toLowerCase().includes(searchLower);
          const matchColor = combo.colorToken.toLowerCase().includes(searchLower);
          const matchUsage = combo.usage.toLowerCase().includes(searchLower);
          const matchComponents = combo.components.some(comp => comp.toLowerCase().includes(searchLower));
          
          return matchName || matchTypography || matchColor || matchUsage || matchComponents;
        });
      }

      if (filteredCombinations.length === 0) {
        content.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ”</div>
            <p>æœªæ‰¾åˆ°åŒ¹é…çš„ç»„åˆæ¨è</p>
          </div>
        `;
        return;
      }

      // æ·»åŠ è¯´æ˜
      const infoBox = document.createElement('div');
      infoBox.style.cssText = 'background: #f0fdf4; border: 1px solid #07C160; border-radius: 8px; padding: 16px; margin-bottom: 24px;';
      infoBox.innerHTML = `
        <div style="display: flex; align-items: start; gap: 12px;">
          <span style="font-size: 20px;">ğŸ’¡</span>
          <div style="flex: 1;">
            <div style="font-weight: 600; color: #07C160; margin-bottom: 8px;">ç»„åˆæ¨èè¯´æ˜</div>
            <div style="font-size: 14px; color: #666; line-height: 1.6;">
              ä»¥ä¸‹æ˜¯æ ¹æ® WeUI è®¾è®¡è§„èŒƒå’Œå¸¸è§ä½¿ç”¨åœºæ™¯æ¨èçš„å­—ä½“æ ·å¼ä¸æ–‡å­—é¢œè‰²ç»„åˆã€‚
              è¿™äº›ç»„åˆæ˜¯<strong>æ¨èä½¿ç”¨</strong>çš„ï¼Œä½†å¹¶éå¼ºåˆ¶ç»‘å®šï¼Œä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚çµæ´»è°ƒæ•´ã€‚
            </div>
          </div>
        </div>
      `;

      const table = document.createElement('table');
      table.className = 'token-table';

      // è¡¨å¤´
      const thead = document.createElement('thead');
      thead.innerHTML = `
        <tr>
          <th style="width: 150px;">ç»„åˆåç§°</th>
          <th style="width: 200px;">Token ç»„åˆ</th>
          <th style="width: 450px;">æ ·å¼é¢„è§ˆ</th>
          <th>ä½¿ç”¨åœºæ™¯</th>
          <th style="width: 200px;">ä½¿ç”¨çš„ç»„ä»¶</th>
        </tr>
      `;

      // è¡¨ä½“
      const tbody = document.createElement('tbody');
      filteredCombinations.forEach(combo => {
        try {
          const row = createCombinationRow(combo);
          tbody.appendChild(row);
        } catch (error) {
          console.error('Error creating combination row:', combo, error);
        }
      });

      table.appendChild(thead);
      table.appendChild(tbody);

      content.innerHTML = '';
      content.appendChild(infoBox);
      content.appendChild(table);
    }

    // åˆ›å»ºç»„åˆæ¨èè¡Œ
    function createCombinationRow(combo) {
      const row = document.createElement('tr');
      
      // æ„å»ºæ ·å¼é¢„è§ˆ
      const previewHTML = `
        <div style="display: flex; flex-direction: column; gap: 16px;">
          <div class="typography-preview" style="background: white; border: 1px solid #e5e5e5;">
            <div class="typography-preview-text" style="font-size: ${combo.fontSize}; font-weight: ${combo.fontWeight}; line-height: ${combo.lineHeight}; color: ${combo.color};">
              ç¤ºä¾‹æ–‡æœ¬ Example Text
            </div>
            <div class="typography-specs">
              <div class="spec-item">
                <span class="spec-label">â˜€ï¸ ç™½å¤©</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">å­—å·:</span>
                <span class="spec-value">${combo.fontSize}</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">å­—é‡:</span>
                <span class="spec-value">${combo.fontWeight}</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">è¡Œé«˜:</span>
                <span class="spec-value">${combo.lineHeight}</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">é¢œè‰²:</span>
                <span class="spec-value">${combo.color}</span>
              </div>
            </div>
          </div>
          <div class="typography-preview" style="background: #1a1a1a; border: 1px solid #38383a;">
            <div class="typography-preview-text" style="font-size: ${combo.fontSize}; font-weight: ${combo.fontWeight}; line-height: ${combo.lineHeight}; color: ${combo.colorDark};">
              ç¤ºä¾‹æ–‡æœ¬ Example Text
            </div>
            <div class="typography-specs">
              <div class="spec-item">
                <span class="spec-label" style="color: #aeaeae;">ğŸŒ™ æš—é»‘</span>
              </div>
              <div class="spec-item">
                <span class="spec-label" style="color: #aeaeae;">å­—å·:</span>
                <span class="spec-value" style="color: #aeaeae;">${combo.fontSize}</span>
              </div>
              <div class="spec-item">
                <span class="spec-label" style="color: #aeaeae;">å­—é‡:</span>
                <span class="spec-value" style="color: #aeaeae;">${combo.fontWeight}</span>
              </div>
              <div class="spec-item">
                <span class="spec-label" style="color: #aeaeae;">è¡Œé«˜:</span>
                <span class="spec-value" style="color: #aeaeae;">${combo.lineHeight}</span>
              </div>
              <div class="spec-item">
                <span class="spec-label" style="color: #aeaeae;">é¢œè‰²:</span>
                <span class="spec-value" style="color: #aeaeae;">${combo.colorDark}</span>
              </div>
            </div>
          </div>
        </div>
      `;

      row.innerHTML = `
        <td>
          <div>
            <div style="font-weight: 500; margin-bottom: 4px;">${combo.name}</div>
            <div style="font-size: 12px; color: #999;">${combo.nameEn}</div>
          </div>
        </td>
        <td>
          <div style="display: flex; flex-direction: column; gap: 6px;">
            <div>
              <span style="font-size: 12px; color: #999;">å­—ä½“æ ·å¼:</span>
              <span class="token-name" style="margin-left: 6px;">${combo.typographyToken}</span>
            </div>
            <div>
              <span style="font-size: 12px; color: #999;">æ–‡å­—é¢œè‰²:</span>
              <span class="token-name" style="margin-left: 6px;">${combo.colorToken}</span>
            </div>
          </div>
        </td>
        <td>
          ${previewHTML}
        </td>
        <td>
          <div class="usage-scenarios">${combo.usage}</div>
        </td>
        <td>
          <div class="component-tags">
            ${combo.components.map(comp => `<span class="component-tag">${comp}</span>`).join('')}
          </div>
        </td>
      `;

      return row;
    }

    // åˆ›å»ºè¡¨æ ¼è¡Œ
    function createTableRow(token) {
      const row = document.createElement('tr');
      
      const isColorOnly = token.category === 'æ–‡å­—é¢œè‰²' && !token.fontSize;
      
      // æ„å»ºæ ·å¼é¢„è§ˆ
      let previewHTML = '';
      
      if (isColorOnly) {
        // çº¯é¢œè‰² Token - åªæ˜¾ç¤ºé¢œè‰²é¢„è§ˆ
        if (currentFilter === 'all') {
          previewHTML = `
            <div style="display: flex; flex-direction: column; gap: 16px;">
              <div class="typography-preview" style="background: white; border: 1px solid #e5e5e5;">
                <div style="display: flex; align-items: center; gap: 16px;">
                  <div style="width: 60px; height: 60px; border-radius: 6px; background: ${token.color}; border: 1px solid #e5e5e5; flex-shrink: 0;"></div>
                  <div class="typography-specs" style="flex: 1;">
                    <div class="spec-item">
                      <span class="spec-label">â˜€ï¸ ç™½å¤©</span>
                    </div>
                    <div class="spec-item">
                      <span class="spec-label">é¢œè‰²:</span>
                      <span class="spec-value">${token.color}</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="typography-preview" style="background: #1a1a1a; border: 1px solid #38383a;">
                <div style="display: flex; align-items: center; gap: 16px;">
                  <div style="width: 60px; height: 60px; border-radius: 6px; background: ${token.colorDark}; border: 1px solid #38383a; flex-shrink: 0;"></div>
                  <div class="typography-specs" style="flex: 1;">
                    <div class="spec-item">
                      <span class="spec-label" style="color: #aeaeae;">ğŸŒ™ æš—é»‘</span>
                    </div>
                    <div class="spec-item">
                      <span class="spec-label" style="color: #aeaeae;">é¢œè‰²:</span>
                      <span class="spec-value" style="color: #aeaeae;">${token.colorDark}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `;
        } else {
          const color = currentFilter === 'dark' ? token.colorDark : token.color;
          const bgColor = currentFilter === 'dark' ? '#1a1a1a' : 'white';
          const borderColor = currentFilter === 'dark' ? '#38383a' : '#e5e5e5';
          const textColor = currentFilter === 'dark' ? '#aeaeae' : '#666';
          const modeLabel = currentFilter === 'dark' ? 'ğŸŒ™ æš—é»‘' : 'â˜€ï¸ ç™½å¤©';
          
          previewHTML = `
            <div class="typography-preview" style="background: ${bgColor}; border: 1px solid ${borderColor};">
              <div style="display: flex; align-items: center; gap: 16px;">
                <div style="width: 60px; height: 60px; border-radius: 6px; background: ${color}; border: 1px solid ${borderColor}; flex-shrink: 0;"></div>
                <div class="typography-specs" style="flex: 1;">
                  <div class="spec-item">
                    <span class="spec-label" style="color: ${textColor};">${modeLabel}</span>
                  </div>
                  <div class="spec-item">
                    <span class="spec-label" style="color: ${textColor};">é¢œè‰²:</span>
                    <span class="spec-value" style="color: ${textColor};">${color}</span>
                  </div>
                </div>
              </div>
            </div>
          `;
        }
      } else {
        // å­—ä½“æ ·å¼ Token - æ˜¾ç¤ºæ ·å¼é¢„è§ˆï¼ˆä¸åŒºåˆ†ç™½å¤©æš—é»‘ï¼Œä¸åŒ…å«é¢œè‰²ï¼‰
        const previewTextColor = '#333';
        
        previewHTML = `
          <div class="typography-preview" style="background: white; border: 1px solid #e5e5e5;">
            <div class="typography-preview-text" style="font-size: ${token.fontSize}; font-weight: ${token.fontWeight}; line-height: ${token.lineHeight}; color: ${previewTextColor};">
              ç¤ºä¾‹æ–‡æœ¬ Example Text
            </div>
            <div class="typography-specs">
              <div class="spec-item">
                <span class="spec-label">å­—å·:</span>
                <span class="spec-value">${token.fontSize}</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">å­—é‡:</span>
                <span class="spec-value">${token.fontWeight}</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">è¡Œé«˜:</span>
                <span class="spec-value">${token.lineHeight}</span>
              </div>
            </div>
          </div>
        `;
      }

      row.innerHTML = `
        <td>
          <span class="token-name">${token.tokenName || 'N/A'}</span>
        </td>
        <td>
          <div>
            <div style="font-weight: 500; margin-bottom: 4px;">${token.name}</div>
            <div style="font-size: 12px; color: #999;">${token.nameEn}</div>
          </div>
        </td>
        <td>
          ${previewHTML}
        </td>
        <td>
          <div class="usage-scenarios">${token.usage}</div>
        </td>
        <td>
          <div class="component-tags">
            ${token.components.map(comp => `<span class="component-tag">${comp}</span>`).join('')}
          </div>
        </td>
      `;

      return row;
    }

    // å¯¼å‡º JSON
    function exportToJSON() {
      const exportData = {
        name: 'WeUI Typography Tokens',
        version: '1.0.0',
        description: 'åŸºäºå¾®ä¿¡è®¾è®¡è§„èŒƒçš„å®Œæ•´å­—ä½“ç³»ç»Ÿ',
        tokens: typographyTokens.map(token => ({
          tokenName: token.tokenName || '',
          category: token.category,
          categoryEn: token.categoryEn,
          name: token.name,
          nameEn: token.nameEn,
          fontSize: token.fontSize || null,
          fontWeight: token.fontWeight || null,
          lineHeight: token.lineHeight || null,
          color: token.color || null,
          colorDark: token.colorDark || null,
          usage: token.usage,
          components: token.components,
          colorToken: token.colorToken || null
        }))
      };

      const jsonStr = JSON.stringify(exportData, null, 2);
      const blob = new Blob([jsonStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'weui-typography-tokens.json';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>

