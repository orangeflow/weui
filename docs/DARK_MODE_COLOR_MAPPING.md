# 暗黑模式与白天模式色彩对应表

## 概述

暗黑模式（Dark Mode）与白天模式（Light Mode）的色彩映射需要遵循一定的设计原则，确保在两种模式下都有良好的可读性和视觉体验。

## 核心映射原则

### 1. 对比度原则
- **白天模式**：深色文字 + 浅色背景（高对比度）
- **暗黑模式**：浅色文字 + 深色背景（高对比度）
- 两种模式都应满足 WCAG AA 标准（至少 4.5:1 的对比度）

### 2. 亮度反转原则
- 背景色：白天模式浅色 → 暗黑模式深色
- 文字色：白天模式深色 → 暗黑模式浅色
- 但并非简单的颜色反转，需要考虑视觉舒适度

### 3. 色彩饱和度调整
- 暗黑模式下，纯色会显得更亮，需要适当降低饱和度
- 保持品牌色的识别度，但调整亮度以适应暗色背景

## 详细色彩对应表

### 背景色映射

| 用途 | 白天模式 | 暗黑模式 | 说明 |
|------|---------|---------|------|
| **主背景** | `#FFFFFF` | `#000000` | 页面主背景 |
| **次要背景** | `#F5F5F5` | `#1C1C1E` | 卡片、容器背景 |
| **三级背景** | `#F0F0F0` | `#2C2C2E` | 分隔区域背景 |
| **输入框背景** | `#FFFFFF` | `#1C1C1E` | 输入框背景色 |
| **悬浮背景** | `#FAFAFA` | `#2C2C2E` | 悬浮状态背景 |
| **遮罩层** | `rgba(0,0,0,0.4)` | `rgba(0,0,0,0.6)` | 模态框遮罩 |

### 文本颜色映射

| 用途 | 白天模式 | 暗黑模式 | 说明 |
|------|---------|---------|------|
| **主要文本** | `#000000` / `rgba(0,0,0,0.9)` | `#FFFFFF` / `rgba(255,255,255,0.9)` | 标题、重要内容 |
| **次要文本** | `#666666` / `rgba(0,0,0,0.6)` | `#AEAEB2` / `rgba(255,255,255,0.6)` | 描述文字 |
| **辅助文本** | `#999999` / `rgba(0,0,0,0.4)` | `#8E8E93` / `rgba(255,255,255,0.4)` | 提示文字 |
| **禁用文本** | `#CCCCCC` / `rgba(0,0,0,0.2)` | `#636366` / `rgba(255,255,255,0.2)` | 禁用状态文字 |

### 边框颜色映射

| 用途 | 白天模式 | 暗黑模式 | 说明 |
|------|---------|---------|------|
| **标准边框** | `#E5E5E5` / `#C5C5C5` | `#38383A` / `#48484A` | 输入框、卡片边框 |
| **分隔线** | `#F0F0F0` | `#38383A` | 列表分隔线 |
| **聚焦边框** | `#007AFF` | `#0A84FF` | 输入框聚焦状态 |

### 品牌色映射

| 用途 | 白天模式 | 暗黑模式 | 说明 |
|------|---------|---------|------|
| **主品牌色** | `#165DFF` | `#4080FF` | 主要操作按钮 |
| **主品牌色悬浮** | `#0E42D2` | `#5C9AFF` | 按钮悬浮状态 |
| **主品牌色按下** | `#0B35A6` | `#6BA3FF` | 按钮按下状态 |
| **成功色** | `#00B42A` | `#30D158` | 成功提示 |
| **警告色** | `#FF7D00` | `#FF9F0A` | 警告提示 |
| **错误色** | `#F53F3F` | `#FF453A` | 错误提示 |
| **信息色** | `#165DFF` | `#64D2FF` | 信息提示 |

### 微信风格颜色映射

| 用途 | 白天模式 | 暗黑模式 | 说明 |
|------|---------|---------|------|
| **微信绿** | `#07C160` | `#1AAD19` | 微信主色调 |
| **微信绿悬浮** | `#06AD56` | `#179B16` | 悬浮状态 |
| **微信绿按下** | `#059648` | `#158A14` | 按下状态 |

### 状态颜色映射

| 状态 | 白天模式 | 暗黑模式 | 说明 |
|------|---------|---------|------|
| **链接色** | `#576B95` | `#5EACD2` | 可点击链接 |
| **链接悬浮** | `#4A5A7A` | `#6BB6D6` | 链接悬浮 |
| **选中背景** | `#E6F4FF` | `#1A2332` | 选中项背景 |
| **选中文字** | `#165DFF` | `#4080FF` | 选中项文字 |

## CSS 变量实现方案

### 方案一：使用 CSS 变量（推荐）

```css
/* 白天模式（默认） */
:root {
  /* 背景色 */
  --bg-primary: #FFFFFF;
  --bg-secondary: #F5F5F5;
  --bg-tertiary: #F0F0F0;
  
  /* 文本色 */
  --text-primary: rgba(0, 0, 0, 0.9);
  --text-secondary: rgba(0, 0, 0, 0.6);
  --text-tertiary: rgba(0, 0, 0, 0.4);
  
  /* 边框色 */
  --border-color: #E5E5E5;
  --border-color-light: #F0F0F0;
  
  /* 品牌色 */
  --brand-color: #165DFF;
  --brand-color-hover: #0E42D2;
  --brand-color-active: #0B35A6;
  
  /* 状态色 */
  --color-success: #00B42A;
  --color-warning: #FF7D00;
  --color-error: #F53F3F;
  --color-info: #165DFF;
}

/* 暗黑模式 */
[data-theme="dark"],
@media (prefers-color-scheme: dark) {
  :root {
    /* 背景色 */
    --bg-primary: #000000;
    --bg-secondary: #1C1C1E;
    --bg-tertiary: #2C2C2E;
    
    /* 文本色 */
    --text-primary: rgba(255, 255, 255, 0.9);
    --text-secondary: rgba(255, 255, 255, 0.6);
    --text-tertiary: rgba(255, 255, 255, 0.4);
    
    /* 边框色 */
    --border-color: #38383A;
    --border-color-light: #48484A;
    
    /* 品牌色 */
    --brand-color: #4080FF;
    --brand-color-hover: #5C9AFF;
    --brand-color-active: #6BA3FF;
    
    /* 状态色 */
    --color-success: #30D158;
    --color-warning: #FF9F0A;
    --color-error: #FF453A;
    --color-info: #64D2FF;
  }
}
```

### 方案二：使用类名切换

```css
/* 白天模式 */
.light-theme {
  --bg-primary: #FFFFFF;
  --text-primary: rgba(0, 0, 0, 0.9);
  --border-color: #E5E5E5;
}

/* 暗黑模式 */
.dark-theme {
  --bg-primary: #000000;
  --text-primary: rgba(255, 255, 255, 0.9);
  --border-color: #38383A;
}
```

## 使用示例

```css
/* 使用 CSS 变量 */
.container {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}

.button-primary {
  background-color: var(--brand-color);
  color: #FFFFFF;
}

.button-primary:hover {
  background-color: var(--brand-color-hover);
}

.input-field {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-color);
  color: var(--text-primary);
}

.input-field::placeholder {
  color: var(--text-tertiary);
}
```

## 设计最佳实践

### 1. 避免纯黑和纯白
- **暗黑模式背景**：使用 `#000000` 或 `#1C1C1E`，避免纯黑
- **白天模式背景**：使用 `#FFFFFF` 或 `#F5F5F5`，避免纯白
- 这样可以减少视觉疲劳

### 2. 保持适当的对比度
- 主要文本与背景对比度 ≥ 4.5:1（WCAG AA）
- 大文本（18px+）对比度 ≥ 3:1
- 使用工具检查对比度：https://webaim.org/resources/contrastchecker/

### 3. 品牌色调整
- 暗黑模式下，品牌色需要适当提亮
- 保持品牌识别度，但避免过于刺眼
- 通常增加 10-20% 的亮度

### 4. 图片和图标
- 为暗黑模式准备深色版本的图标
- 使用 SVG 图标，通过 CSS 控制颜色
- 图片可以考虑添加暗色滤镜

### 5. 渐变和阴影
- 暗黑模式下，阴影效果需要调整
- 使用更亮的阴影颜色（如 `rgba(255,255,255,0.1)`）
- 渐变也需要相应调整

## 常见平台参考

### iOS 暗黑模式颜色
- 系统背景：`#000000` / `#1C1C1E`
- 二级背景：`#1C1C1E` / `#2C2C2E`
- 三级背景：`#2C2C2E` / `#3A3A3C`

### Android Material Design 暗黑模式
- 主背景：`#121212`
- 表面色：`#1E1E1E`
- 卡片色：`#2C2C2C`

### macOS 暗黑模式
- 窗口背景：`#1E1E1E`
- 内容背景：`#2D2D2D`
- 边框：`#3D3D3D`

## 工具和资源

### 在线工具
1. **Contrast Checker**: https://webaim.org/resources/contrastchecker/
2. **Color Contrast Analyzer**: https://www.tpgi.com/color-contrast-checker/
3. **Dark Mode Toggle**: 浏览器开发者工具

### 设计工具
1. **Figma**: 支持暗黑模式预览
2. **Sketch**: 暗黑模式插件
3. **Adobe XD**: 暗黑模式支持

## 测试清单

- [ ] 所有文本在两种模式下都有足够的对比度
- [ ] 品牌色在暗黑模式下不会过于刺眼
- [ ] 边框和分隔线在两种模式下都清晰可见
- [ ] 交互状态（悬浮、按下）在两种模式下都有反馈
- [ ] 图片和图标在暗黑模式下清晰可见
- [ ] 表单元素在两种模式下都易于使用
- [ ] 模态框和对话框在两种模式下都清晰可见

## 总结

暗黑模式与白天模式的色彩映射需要：
1. **保持对比度**：确保可读性
2. **调整亮度**：适应不同背景
3. **保持一致性**：统一的视觉体验
4. **考虑舒适度**：避免过于刺眼或过于暗淡
5. **测试验证**：在不同设备和环境下测试

通过使用 CSS 变量和系统化的颜色映射，可以轻松实现高质量的暗黑模式支持。

